<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anomalies</title>
    <style>
      #background {
        background-image: url("BeginningSlide.jpg");
        background-size: 1920px 1080px;
        overflow: hidden;
      }
    </style>
  </head>
  <body id="background">
    <h2>AaaAAAAAAAAA</h2>
    <button
      id="Loen"
      onclick="TextPrompter('Du drehst dich um und gehst aus dem Raum.','Animtext','Slide2.html')"
    ></button>
    <button
      onclick="TextPrompter('Du schaust dich im Raum um und entdeckst einen Stapel an alten Bücher, du überfliegst das Cover und erkennst das es ein Thriller ist.','Animtext')"
    ></button>
    <button
      onclick="TextPrompter('Die Wand vor dir ist b̷̨͔̆ͅl̵̰͠ũ̷̞͓t̶͚̮̦̚i̷̙͆͂̑g̴̖̀̂͝, du kannst sehen, dass dieses Blut schon lange da klebt, es riecht nach Verwesung und körperlichen Flüssigkeiten.','Animtext')"
    ></button>
    <h1 id="Animtext"></h1>
    <script>
      /// Onclick event + mit Inputs
      function TextPrompter(text, id, link) {
        const header = document.getElementById(id);
        const interval = 50;
        let currentIndex = 0;

        /// Nimm mal alle buttons und mach die mal nicht anclickbar
        const buttonlist = document.getElementsByTagName("button");
        for (const button of buttonlist) {
          button.setAttribute("disabled", "true");
        }
        /// Schau dir den Text im Button an und setze ein neues Zeichen bis der Text vollständig ist.
        const typingAnimation = setInterval(() => {
          header.textContent = header.textContent + text[currentIndex];
          console.log(text[currentIndex]);
          currentIndex++;

          ///Hör auf wenn vollständig ist
          if (currentIndex === text.length) {
            clearInterval(typingAnimation);
          }
        }, interval);
        /// Buttons wieder clickbar machen wenn gelesen wurde
        setTimeout(() => {
          header.textContent = "";
          for (const button of buttonlist) {
            button.removeAttribute("disabled");
          }
          if (link) {
            window.location.href = link;
          }
        }, 8000);
      }
    </script>
  </body>
</html>
