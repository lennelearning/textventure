<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anomalies</title>
    <style>
      #background {
        background-image: url("Operatingroom.jpg");
        background-size: 1920px 1080px;
        overflow: hidden;
      }
    </style>
  </head>
  <body id="background">
    <button
      onclick="TextPrompter('Neben dir siehst du eine Rettungsliege.','Animtext')"
    ></button>
    <!-- ///Doorslam soundeffect einbauen: https://pixabay.com/sound-effects/door-slam-processed-91407//// -->
    <button
      id="Loen"
      onclick="TextPrompter('Du biegst in den Flur links ab. Ein kalter L̸̯̉̅͑u̶̫̲̇͗͜͝f̴͙́̃̔t̷͎̘̭̋z̴͍̙̐̐u̸̫̳̒̈g̶̫͋͛ kommt dir entgegen. Du hörst wie weiter entfernt eine Tür zuschlägt','Animtext','Slide3.html')"
    ></button>
    <!-- ///Regentropfen auf Bodengeräusche einbauen: https://www.youtube.com/watch?v=HOzwrWiKznQ/// -->
    <button
      onclick="TextPrompter('Du schaust den Gang herunter und hörst leise Regen auf den Boden plätschern.','Animtext')"
    ></button>
    <h1 id="Animtext"></h1>
    <script>
      /// Onclick event + mit Inputs
      function TextPrompter(text, id, link) {
        const header = document.getElementById(id);
        const interval = 50;
        let currentIndex = 0;

        /// Nimm mal alle buttons und mach die mal nicht anclickbar
        const buttonlist = document.getElementsByTagName("button");
        for (const button of buttonlist) {
          button.setAttribute("disabled", "true");
        }
        /// Schau dir den Text im Button an und setze ein neues Zeichen bis der Text vollständig ist.
        const typingAnimation = setInterval(() => {
          header.textContent = header.textContent + text[currentIndex];
          console.log(text[currentIndex]);
          currentIndex++;

          ///Hör auf wenn vollständig ist
          if (currentIndex === text.length) {
            clearInterval(typingAnimation);
          }
        }, interval);
        /// Buttons wieder clickbar machen wenn gelesen wurde
        console.log("setTimeout");
        setTimeout(() => {
          header.textContent = "";
          for (const button of buttonlist) {
            button.removeAttribute("disabled");
          }
          if (link) {
            window.location.href = link;
          }
        }, 14000);
      }
    </script>
  </body>
</html>
